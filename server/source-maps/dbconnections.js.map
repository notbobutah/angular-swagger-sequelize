{"version":3,"sources":["dbconnections.ts"],"names":[],"mappings":";AAAA,IAAO,SAAS,WAAW,WAAW,CAAC,CAAC;AAWxC;IAEI,IAAI,MAAM,GAAc;QACpB,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,WAAW;QACxC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,UAAU;QAC3C,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW,IAAI,UAAU;QAC/C,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW,IAAI,UAAU;QAC/C,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,IAAI;QACjC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,KAAK;KACpC,CAAC;IAEF,MAAM,CAAC,MAAM,CAAC;AAClB,CAAC;AAED;IAEI,IAAI,MAAM,GAAG,WAAW,EAAE,CAAC;IAE3B,IAAI,SAAS,GAAG,IAAI,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAO;QAClF,IAAI,EAAE,MAAM,CAAC,IAAI;QACjB,OAAO,EAAE,UAAU;QACnB,IAAI,EAAE,MAAM,CAAC,IAAI;QACjB,IAAI,EAAE;YACF,GAAG,EAAE,EAAE;YACP,GAAG,EAAE,CAAC;YACN,IAAI,EAAE,KAAK;SACd;QACD,cAAc,EAAE;YACZ,GAAG,EAAE,MAAM,CAAC,GAAG;SAClB;KACJ,CAAC,CAAC;IAEH,MAAM,CAAC,SAAS,CAAC;AACrB,CAAC;AAED,iBAAS,gBAAgB,CAAC","file":"../dbconnections.js","sourcesContent":["import Sequelize = require('sequelize');\n\ninterface IDbConfig {\n    host?: string;\n    database?: string;\n    username?: string;\n    password?: string;\n    port?: number;\n    ssl?: boolean;\n}\n\nfunction getDbConfig() {\n\n    var config: IDbConfig = {\n        host: process.env.DB_HOST || '127.0.0.1',\n        database: process.env.DB_NAME || 'postgres',\n        username: process.env.DB_USERNAME || 'postgres',\n        password: process.env.DB_PASSWORD || 'postgres',\n        port: process.env.DB_PORT || 5432,\n        ssl: process.env.DB_PORT || false\n    };\n\n    return config;\n}\n\nfunction createConnection() {\n\n    var config = getDbConfig();\n\n    var sequelize = new Sequelize(config.database, config.username, config.password, <any>{\n        host: config.host,\n        dialect: 'postgres',\n        port: config.port,\n        pool: {\n            max: 10,\n            min: 0,\n            idle: 10000\n        },\n        dialectOptions: {\n            ssl: config.ssl\n        }\n    });\n\n    return sequelize;\n}\n\nexport = createConnection;\n"]}